<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<!-- <meta charset="utf-8"> -->
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Register Form</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">

</head>

<body>
	<input type="hidden" id="sessionAttribute" th:value="${session}" />





	<div th:if="${session != null}">

		<nav class="navbar  bg-info" data-bs-theme="dark">
			<!-- <div class="container-fluid"> -->



			<div class="col-10 p-2">
				<a class="navbar-brand" href="#">Employee List Page </a>
			</div>
			<div class="col-1 p-0" th:if="${session !=null}">

				<a th:href="@{editEmployee(email=${email} )}"
					class="btn btn-primary">Edit </a>
			</div>
			<div class="col-1 p-0">
				<a th:href="@{logout}" class="btn btn-danger">LogOut</a>
			</div>

			<!-- 	</div> -->
		</nav>

		<div class="container mt-5">

			<div class="row d-flex justify-content-center">

				<div class="card p-5">
					<label class=" fs-2 text-center">Employee List </label>
					<div class="card-body">

						<table class="table table-striped table-hover">
							<thead>
								<tr>
									<th>ID</th>
									<th>Name</th>
									<th>Email</th>
									<th>Password</th>
									<th>Gender</th>
									<th>Mobile</th>

								</tr>
							</thead>
							<tbody>


								<tr th:each="employee ,autoId: ${employees}">

									<td th:text="${autoId.index+1 }">++id</td>
									<td th:text="${employee.name}">Name</td>
									<td th:text="${employee.email}">Email</td>
									<td th:text="${employee.password}">Password</td>
									<td th:text="${employee.gender}">Gender</td>
									<td th:text="${employee.mobile}">Mobile</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div th:if="${session == null}">
		<P>login to use this page</P>
	</div>

	<script>
		document.addEventListener("DOMContentLoaded",
				function() {
					let value_session = document
							.getElementById("sessionAttribute").value;
					console.log("Session Value : " + value_session);

					
				});
	</script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
</body>
</html>